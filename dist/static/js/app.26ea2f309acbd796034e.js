webpackJsonp([1],{"8sgR":function(t,e){},"9M+g":function(t,e){},IkeD:function(t,e){},Jmt5:function(t,e){},LP8B:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this._m(0),this._v(" "),e("div",{staticClass:"container"},[e("div",{staticClass:"nav-scroller py-1 mb-2"},[e("nav",{staticClass:"nav d-flex justify-content-between"},[e("router-link",{staticClass:"p-2 nav-item-text",attrs:{to:"/"}},[this._v("Create New Account")]),this._v(" "),e("router-link",{staticClass:"p-2 nav-item-text",attrs:{to:"import"}},[this._v("Import Existed Account")]),this._v(" "),e("router-link",{staticClass:"p-2 nav-item-text",attrs:{to:"transfer"}},[this._v("Send COS")])],1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("header",{staticClass:"py-3 header"},[e("div",{staticClass:"row flex-nowrap justify-content-between align-items-center"},[e("div",{staticClass:"col-4 pt-1"},[e("a",{staticClass:"logo-text",attrs:{href:"#"}},[this._v("Contentos")])])])]),this._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"logo"})])])}]};var s={name:"App",components:{Header:a("VU/8")({name:"Header"},r,!1,function(t){a("LP8B")},"data-v-dfe180bc",null).exports}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("Header"),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var i=a("VU/8")(s,o,!1,function(t){a("zd/g")},null,null).exports,c=a("/ocq"),u=a("Xxa5"),l=a.n(u),p=a("mvHQ"),d=a.n(p),v=a("exGp"),m=a.n(v),f=a("uFh4").crypto,h=a("t4zo"),y={name:"Import",data:function(){return{username:"",password:"",privkey:""}},methods:{importAccount:function(){var t=m()(l.a.mark(function t(){var e,a,n,r,s;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(e=f.privKeyFromWIF(this.privkey))&&e.isValid()?(a=e.pubKey(),n=f.generateEncryptedJson(this.username,this.password,a.toWIF(),this.privkey),r=d()(n),s=new Blob([r],{type:"application/json"}),h.saveAs(s,"COS-KEYJSON-"+this.username+".json")):alert("private key format invalid");case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container body py-2"},[a("div",{staticClass:"wallet-input"},[a("label",{staticClass:"py-2",attrs:{for:"u-input"}},[t._v("Enter a username:（Between 6 and 16 characters）")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control py-3",attrs:{type:"text",id:"u-input",placeholder:"Your Username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),t._v(" "),a("label",{staticClass:"py-2",attrs:{for:"k-input"}},[t._v("Enter a private key:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.privkey,expression:"privkey"}],staticClass:"form-control py-3",attrs:{type:"text",id:"k-input",placeholder:"Private Key"},domProps:{value:t.privkey},on:{input:function(e){e.target.composing||(t.privkey=e.target.value)}}}),t._v(" "),a("label",{staticClass:"py-2",attrs:{for:"p-input"}},[t._v("Enter a password:（Not less than 9 characters）")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control py-3",attrs:{type:"password",id:"p-input",placeholder:"Do NOT forget to save this!"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),a("button",{staticClass:"btn btn-block",on:{click:t.importAccount}},[t._v("Import An Account From Private Key")]),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"wallet-helper py-2"},[this._v("\n    This password encrypts your private key. "),e("br"),this._v("\n    This does not act as a seed to generate your keys. "),e("br"),this._v("\n    You will need this password + your private key to unlock your wallet.\n  ")])}]};var w=a("VU/8")(y,_,!1,function(t){a("IkeD")},"data-v-024bb020",null).exports,b=a("uFh4").crypto,g=a("mtWM"),k=a("t4zo"),C={name:"Home",data:function(){return{username:"",password:"",privateKey:"",publicKey:"",ok:!1}},methods:{generateKeys:function(){var t=b.generatePrivKey();this.privateKey=t.toWIF(),this.publicKey=t.pubKey().toWIF()},createAccount:function(){var t=m()(l.a.mark(function t(){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.generateKeys(),t.next=3,g({method:"post",url:"/v1/create_account",data:{username:this.username,pubkey:this.publicKey}});case 3:t.sent.data.success&&(this.ok=!0);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),downloadEncryptedAccount:function(){var t=m()(l.a.mark(function t(){var e,a,n;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=b.generateEncryptedJson(this.username,this.password,this.publicKey,this.privateKey),a=d()(e),n=new Blob([a],{type:"application/json"}),k.saveAs(n,"COS-KEYJSON-"+this.username+".json");case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},x={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container body py-2"},[a("div",{staticClass:"wallet-input"},[a("label",{staticClass:"py-2",attrs:{for:"u-input"}},[t._v("Enter a username:（Between 6 and 16 characters）")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control py-3",attrs:{type:"text",id:"u-input",placeholder:"Your Username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),t._v(" "),a("label",{staticClass:"py-2",attrs:{for:"p-input"}},[t._v("Enter a password:（Not less than 9 characters）")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control py-3",attrs:{type:"password",id:"p-input",placeholder:"Do NOT forget to save this!"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),a("button",{staticClass:"btn btn-block",on:{click:t.createAccount}},[t._v("Create A New Account")]),t._v(" "),t.ok?[t._m(0),t._v(" "),a("button",{staticClass:"btn btn-block",on:{click:t.downloadEncryptedAccount}},[t._v("Download Keystore File")])]:t._e(),t._v(" "),t._m(1)],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{staticClass:"py-3"},[this._v("Save your "),e("span",{staticClass:"pink"},[this._v("Keystore File")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"wallet-helper py-2"},[this._v("\n    This password encrypts your private key. "),e("br"),this._v("\n    This does not act as a seed to generate your keys. "),e("br"),this._v("\n    You will need this password + your private key to unlock your wallet.\n  ")])}]};var F,E,N=a("VU/8")(C,x,!1,function(t){a("VJ5g")},"data-v-12673be8",null).exports,A=a("BO1k"),K=a.n(A),P=a("//Fk"),T=a.n(P),S=this,O=a("uFh4"),B=a("/z6y").grpc,I=O.raw_type.account_name,R=O.operation.transfer_operation,U=O.raw_type.coin,V=O.transaction.transaction,$=O.transaction.signed_transaction,J=O.raw_type.time_point_sec,j=O.raw_type.signature_type,Y=O.grpc_service.ApiService,M="http://34.232.46.177:8080",W=(F=m()(l.a.mark(function t(e,a,n,r,s){var o,i,c,u,p,d,v;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==(o=O.crypto.privKeyFromWIF(s))){t.next=4;break}return console.log("sender priv from wif failed"),t.abrupt("return");case 4:return i=new R,(c=new I).setValue(e),i.setFrom(c),(u=new I).setValue(a),i.setTo(u),(p=new U).setValue(n),i.setAmount(p),t.next=16,H(o,[i]);case 16:return d=t.sent,(v=new O.grpc.BroadcastTrxRequest).setTransaction(d),t.abrupt("return",new T.a(function(t){return B.unary(Y.BroadcastTrx,{request:v,host:M,onEnd:function(e){var a=e.status,n=(e.statusMessage,e.headers,e.message);e.trailers;a===B.Code.OK&&n?t(n.toObject()):t({})}})}));case 20:case"end":return t.stop()}},t,this)})),function(t,e,a,n,r){return F.apply(this,arguments)}),H=(E=m()(l.a.mark(function t(e,a){var n,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new V,r=new O.grpc.NonParamsRequest,t.abrupt("return",new T.a(function(t){return B.unary(Y.GetChainState,{request:r,host:M,onEnd:function(r){var s=r.status,o=(r.statusMessage,r.headers,r.message);r.trailers;if(s===B.Code.OK&&o){var i=o.toObject();n.setRefBlockNum(2047&i.state.dgpo.headBlockNumber),n.setRefBlockPrefix(i.state.dgpo.headBlockPrefix);var c=new J;c.setUtcSeconds(i.state.dgpo.time.utcSeconds+30),n.setExpiration(c);var u=!0,l=!1,p=void 0;try{for(var d,v=K()(a);!(u=(d=v.next()).done);u=!0){var m=d.value;n.addOperation(m)}}catch(t){l=!0,p=t}finally{try{!u&&v.return&&v.return()}finally{if(l)throw p}}var f=new $;f.setTrx(n);var h=new j,y=f.sign(e);h.setSig(y),f.setSignature(h),t(f)}else t({})}})}));case 3:case"end":return t.stop()}},t,S)})),function(t,e){return E.apply(this,arguments)}),q=a("uFh4").crypto,z={name:"unlock",data:function(){return{filename:"Select Your Account File",data:null,password:""}},methods:{onFileChange:function(t){var e=t.target.files||t.dataTransfer.files;if(e.length){var a=e[0],n=new FileReader,r=this;n.onload=function(t){r.data=JSON.parse(t.target.result),r.filename=a.name},n.readAsText(a)}},unlock:function(){var t=this.data.Name,e=this.data.Mac,a=this.data.Iv,n=this.data.CipherText,r=q.decryptPrivKey(n,this.password,a,e);r&&r.length>0?this.$emit("unlocked",{privkey:r,username:t}):this.$emit("failed")}},computed:{ok:function(){return this.data&&this.filename.startsWith("COS-KEYJSON")}}},D={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container body py-2"},[a("p",{staticClass:"content"},[t._v("Select Your Account File:")]),t._v(" "),a("div",{staticClass:"file-uploader"},[a("label",{staticClass:"file-uploader py-2",attrs:{for:"f-uploader"}},[t._v(t._s(t.filename))]),t._v(" "),a("input",{attrs:{type:"file",id:"f-uploader",accept:"application/json"},on:{change:t.onFileChange}})]),t._v(" "),t.ok?[a("label",{staticClass:"py-2",attrs:{for:"p-input"}},[t._v("Your wallet is encrypted. Good! Please enter the password.")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control py-3",attrs:{type:"password",id:"p-input"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]:t._e(),t._v(" "),a("button",{staticClass:"btn btn-block",on:{click:t.unlock}},[t._v("Unlock")])],2)},staticRenderFns:[]};var G=a("VU/8")(z,D,!1,function(t){a("8sgR")},"data-v-681b7a15",null).exports,L=a("mtWM"),Q={name:"Info",data:function(){return{privkey:"",username:"",receiver:"",balance:0,amount:0,memo:""}},components:{unlock:G},methods:{generateTransferTx:function(){var t=this;return m()(l.a.mark(function e(){var a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.balance>=t.amount)){e.next=8;break}return e.next=3,W(t.username,t.receiver,t.amount,t.memo,t.privkey);case 3:a=e.sent,console.log(a),200===a.invoice.status?alert("success"):alert("generate transfer tx failed"),e.next=9;break;case 8:alert("balance not enough");case 9:case"end":return e.stop()}},e,t)}))()},onUnlocked:function(t){var e=this;return m()(l.a.mark(function a(){var n;return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.username=t.username,e.privkey=t.privkey,a.next=4,L({method:"post",url:"/v1/account",data:{name:e.username}});case 4:n=a.sent,console.log(n),n.data.coin&&n.data.coin.value&&(e.balance=n.data.coin.value);case 7:case"end":return a.stop()}},a,e)}))()},onFailed:function(){alert("password incorrect")}},computed:{ok:function(){return this.username.length>0&&this.privkey.length>0}}},X={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("unlock",{on:{unlocked:t.onUnlocked,failed:t.onFailed}}),t._v(" "),t.ok?[a("div",{staticClass:"container send py-2"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("label",{attrs:{for:"from"}},[t._v("From Account")]),t._v(" "),a("input",{staticClass:"form-item disabled",attrs:{type:"text",id:"from",disabled:""},domProps:{value:t.username}})]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("label",{attrs:{for:"balance"}},[t._v("Balance")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.balance,expression:"balance"}],staticClass:"form-item disabled",attrs:{type:"text",id:"balance",disabled:""},domProps:{value:t.balance},on:{input:function(e){e.target.composing||(t.balance=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("label",{attrs:{for:"to"}},[t._v("To Account")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.receiver,expression:"receiver"}],staticClass:"form-item",attrs:{type:"text",id:"to"},domProps:{value:t.receiver},on:{input:function(e){e.target.composing||(t.receiver=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("label",{attrs:{for:"amount"}},[t._v("Value / Amount to Send")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.amount,expression:"amount",modifiers:{number:!0}}],staticClass:"form-item",attrs:{type:"text",id:"amount"},domProps:{value:t.amount},on:{input:function(e){e.target.composing||(t.amount=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("label",{attrs:{for:"memo"}},[t._v("Memo")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.memo,expression:"memo"}],staticClass:"form-item",attrs:{type:"text",id:"memo"},domProps:{value:t.memo},on:{input:function(e){e.target.composing||(t.memo=e.target.value)}}})])]),t._v(" "),a("button",{staticClass:"btn btn-block",on:{click:t.generateTransferTx}},[t._v("Generate Transaction")])])]:t._e()],2)},staticRenderFns:[]};var Z=a("VU/8")(Q,X,!1,function(t){a("n6EB")},"data-v-cffda85e",null).exports;n.a.use(c.a);var tt=new c.a({routes:[{path:"/",name:"Home",component:N},{path:"/import",name:"Import",component:w},{path:"/transfer",name:"Transfer",component:Z}]}),et=a("e6fC"),at=a.n(et);a("Jmt5"),a("9M+g");n.a.config.productionTip=!1,n.a.use(at.a),new n.a({el:"#app",router:tt,components:{App:i},template:"<App/>"})},VJ5g:function(t,e){},n6EB:function(t,e){},"zd/g":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.26ea2f309acbd796034e.js.map